{"ast":null,"code":"var _jsxFileName = \"/Users/atsukotoda/Desktop/react-chat-app/src/components/MessageList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MessageItem from './MessageItem';\nimport { messagesRef } from '../firebase';\nconst useStyles = makeStyles({\n  root: {\n    gridRow: 1,\n    overflow: 'auto',\n    width: '100%'\n  }\n});\n\nconst MessageList = () => {\n  const [messages, setMessages] = useState([]);\n  const classes = useStyles();\n  useEffect(() => {\n    messagesRef.orderByKey().limitToLast(15).on('value', snapshot => {\n      const messages = snapshot.val();\n      if (messages === null) return;\n      const entries = Object.entries(messages);\n      const newMessages = entries.map(entry => {\n        const [key, nameAndText] = entry;\n        return {\n          key,\n          ...nameAndText\n        };\n      });\n      setMessages(newMessages);\n    });\n  }, []);\n  const length = messages.length;\n  return /*#__PURE__*/React.createElement(List, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, messages.map((_ref, index) => {\n    let {\n      key,\n      name,\n      text\n    } = _ref;\n    const isLastItem = length === index + 1;\n    return /*#__PURE__*/React.createElement(MessageItem, {\n      key: key,\n      name: name,\n      text: text,\n      isLastItem: isLastItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    });\n  }));\n};\n\nexport default MessageList;","map":{"version":3,"names":["React","useEffect","useState","List","makeStyles","MessageItem","messagesRef","useStyles","root","gridRow","overflow","width","MessageList","messages","setMessages","classes","orderByKey","limitToLast","on","snapshot","val","entries","Object","newMessages","map","entry","key","nameAndText","length","index","name","text","isLastItem"],"sources":["/Users/atsukotoda/Desktop/react-chat-app/src/components/MessageList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { List } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport MessageItem from './MessageItem';\nimport { messagesRef } from '../firebase';\n\nconst useStyles = makeStyles({\n  root: {\n    gridRow: 1,\n    overflow: 'auto',\n    width: '100%',\n  },\n});\n\nconst MessageList = () => {\n  const [messages, setMessages] = useState([]);\n  const classes = useStyles();\n\n  useEffect(() => {\n    messagesRef\n      .orderByKey()\n      .limitToLast(15)\n      .on('value', (snapshot) => {\n        const messages = snapshot.val();\n        if (messages === null) return;\n\n        const entries = Object.entries(messages);\n        const newMessages = entries.map((entry) => {\n          const [key, nameAndText] = entry;\n          return { key, ...nameAndText };\n        });\n        setMessages(newMessages);\n      });\n  }, []);\n\n  const length = messages.length;\n\n  return (\n    <List className={classes.root}>\n      {messages.map(({ key, name, text }, index) => {\n        const isLastItem = length === index + 1;\n\n        return (\n          <MessageItem\n            key={key}\n            name={name}\n            text={text}\n            isLastItem={isLastItem}\n          />\n        );\n      })}\n    </List>\n  );\n};\n\nexport default MessageList;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,MAAMC,SAAS,GAAGH,UAAU,CAAC;EAC3BI,IAAI,EAAE;IACJC,OAAO,EAAE,CADL;IAEJC,QAAQ,EAAE,MAFN;IAGJC,KAAK,EAAE;EAHH;AADqB,CAAD,CAA5B;;AAQA,MAAMC,WAAW,GAAG,MAAM;EACxB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAMa,OAAO,GAAGR,SAAS,EAAzB;EAEAN,SAAS,CAAC,MAAM;IACdK,WAAW,CACRU,UADH,GAEGC,WAFH,CAEe,EAFf,EAGGC,EAHH,CAGM,OAHN,EAGgBC,QAAD,IAAc;MACzB,MAAMN,QAAQ,GAAGM,QAAQ,CAACC,GAAT,EAAjB;MACA,IAAIP,QAAQ,KAAK,IAAjB,EAAuB;MAEvB,MAAMQ,OAAO,GAAGC,MAAM,CAACD,OAAP,CAAeR,QAAf,CAAhB;MACA,MAAMU,WAAW,GAAGF,OAAO,CAACG,GAAR,CAAaC,KAAD,IAAW;QACzC,MAAM,CAACC,GAAD,EAAMC,WAAN,IAAqBF,KAA3B;QACA,OAAO;UAAEC,GAAF;UAAO,GAAGC;QAAV,CAAP;MACD,CAHmB,CAApB;MAIAb,WAAW,CAACS,WAAD,CAAX;IACD,CAbH;EAcD,CAfQ,EAeN,EAfM,CAAT;EAiBA,MAAMK,MAAM,GAAGf,QAAQ,CAACe,MAAxB;EAEA,oBACE,oBAAC,IAAD;IAAM,SAAS,EAAEb,OAAO,CAACP,IAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGK,QAAQ,CAACW,GAAT,CAAa,OAAsBK,KAAtB,KAAgC;IAAA,IAA/B;MAAEH,GAAF;MAAOI,IAAP;MAAaC;IAAb,CAA+B;IAC5C,MAAMC,UAAU,GAAGJ,MAAM,KAAKC,KAAK,GAAG,CAAtC;IAEA,oBACE,oBAAC,WAAD;MACE,GAAG,EAAEH,GADP;MAEE,IAAI,EAAEI,IAFR;MAGE,IAAI,EAAEC,IAHR;MAIE,UAAU,EAAEC,UAJd;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADF;EAQD,CAXA,CADH,CADF;AAgBD,CAvCD;;AAyCA,eAAepB,WAAf"},"metadata":{},"sourceType":"module"}